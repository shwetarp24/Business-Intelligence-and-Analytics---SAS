*------------------------------------------------------------*
* Report Log
Date:                April 18, 2017
Time:                03:30:55
*------------------------------------------------------------*
11639  *------------------------------------------------------------*;
11640  * &msgString;
11641  *------------------------------------------------------------*;
11642  filename _flowref "H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans7\EMFLOWSCORE.sas";
11643  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
11644  %INCLUDE _flowref;
11649  run;

NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11650  quit;
11651  data WORK.TRANS_SCOREINPUTS;
11652  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
11653  length UNAME $32;
11654  UNAME = upcase(NAME);
11655  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11656  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
11657  by UNAME;
11658  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11659  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
11660  %let SYSCC = 0;
11661  *------------------------------------------------------------*;
11662  * transformcombinevariables;
11663  *------------------------------------------------------------*;
11664  data WORK.TRANS_OUTPUTVARS;
11665  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
11666  set
11667  EMWS1.Trans7_FORMULA
11668  ;
11669  _MetaFlag=0;
11670  uname = upcase(name);
11671  run;

NOTE: Variable inputName is uninitialized.
NOTE: Variable inputLevel is uninitialized.
NOTE: Variable inputType is uninitialized.
NOTE: There were 1 observations read from the data set EMWS1.TRANS7_FORMULA.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11672  data _temp;
11673  length UNAME $32;
11674  set EMWS1.Trans7_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
11675  UNAME = upcase(name);
11676  where upcase(CREATOR) = upcase("Trans7");
11677  run;

NOTE: There were 1 observations read from the data set EMWS1.TRANS7_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS7';
NOTE: The data set WORK._TEMP has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11678  proc sort data=_temp(drop=CREATOR);
11679  by UNAME;
11680  run;

NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11681  proc sort data=WORK.TRANS_OUTPUTVARS;
11682  by UNAME;
11683  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11684  data WORK.TRANS_OUTPUTVARS;
11685  merge WORK.TRANS_OUTPUTVARS _temp;
11686  by UNAME;
11687  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11688  *------------------------------------------------------------*;
11689  * Trans7: Get Metadata for the Score Inputs Variables;
11690  *------------------------------------------------------------*;
11691  data _temp;
11692  length UNAME $32;
11693  set EMWS1.Trans7_VariableSet(keep=NAME LEVEL TYPE LABEL);
11694  UNAME = upcase(name);
11695  run;

NOTE: There were 28 observations read from the data set EMWS1.TRANS7_VARIABLESET.
NOTE: The data set WORK._TEMP has 28 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11696  proc sort data=_temp;
11697  by UNAME;
11698  run;

NOTE: There were 28 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 28 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11699  data WORK.TRANS_SCOREINPUTS;
11700  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
11701  by UNAME;
11702  if _a and _b then output;
11703  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 28 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11704  *------------------------------------------------------------*;
11705  * Trans7: Computing Summary Statistics;
11706  *------------------------------------------------------------*;
11707  proc dmdb data=EMWS1.Trans7_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
11708  class
11709  PCTL_GiftCntAll
11710  PCTL_GiftDolAll
11711  PCTL_GiftTimeLast_Rev
11712  RFM
11713  ;
11714  ;
11715  run;

NOTE: Records processed = 9686   Memory used = 511K.
NOTE: There were 9686 observations read from the data set BIA.PVA97NK.
NOTE: There were 9686 observations read from the data set EMWS1.IDS2_DATA.
NOTE: There were 9686 observations read from the data set EMWS1.TRANS4_TRAIN.
NOTE: There were 9686 observations read from the data set EMWS1.TRANS5_TRAIN.
NOTE: View EMWS1.TRANS7_TRAIN.VIEW used (Total process time):
      real time           0.18 seconds
      cpu time            0.18 seconds
      
NOTE: There were 9686 observations read from the data set EMWS1.TRANS6_TRAIN.
NOTE: There were 9686 observations read from the data set EMWS1.TRANS7_TRAIN.
NOTE: The data set WORK.TRANS_CLASSSTATS has 131 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.20 seconds
      cpu time            0.20 seconds
      

11716  *------------------------------------------------------------*;
11717  * Trans7: Combine Information and Statistics for Class Variables;
11718  *------------------------------------------------------------*;
11719  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
11720  by NAME;
11721  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11722  proc sort data=WORK.TRANS_CLASSSTATS;
11723  by NAME;
11724  run;

NOTE: There were 131 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 131 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11725  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
11726  retain nlevel nmiss;
11727  set WORK.TRANS_CLASSSTATS;
11728  by Name;
11729  if first.Name then do;
11730  nlevel= 0;
11731  nmiss= 0;
11732  end;
11733  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
11734  else nlevel + 1;
11735  if last.name then output;
11736  run;

NOTE: There were 131 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11737  /*Merge Statistics for Class Output Vars */
11738  data WORK.TRANS_CLASSSTATS;
11739  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
11740  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
11741  by NAME;
11742  if _a and _b then do;
11743  SOURCE='Output';
11744  if _MetaFlag = 1 then _METHOD_="Meta";
11745  else if Formula eq 'Interaction' then _METHOD_="Computed";
11746  else if inputName eq '' then _METHOD_="Formula";
11747  else _METHOD_="Computed";
11748  if Formula = '' then Formula = "User Code";
11749  end;
11750  if _a then output;
11751  drop inputName LEVEL TYPE _MetaFlag;
11752  run;

NOTE: There were 4 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 4 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11753  /*Merge Statistics for Class Input Vars */
11754  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
11755  by NAME;
11756  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11757  data WORK.TRANS_CLASSSTATS;
11758  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
11759  by NAME;
11760  if _a and _b then do;
11761  SOURCE='Input';
11762  _METHOD_="Original";
11763  end;
11764  if _a then output;
11765  run;

NOTE: There were 4 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 4 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11766  *------------------------------------------------------------*;
11767  * Trans7: Combine Information and Statistics for Interval Variables;
11768  *------------------------------------------------------------*;
11769  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
11770  by NAME;
11771  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11772  proc sort data=WORK.TRANS_VARSTATS;
11773  by NAME;
11774  run;

NOTE: Input data set is empty.
NOTE: The data set WORK.TRANS_VARSTATS has 0 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11775  *Merge Statistics for Output Vars;
11776  data WORK.TRANS_VARSTATS;
11777  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
11778  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
11779  by NAME;
11780  if _a and _b then do;
11781  SOURCE='Output';
11782  if _MetaFlag = 1 then _METHOD_="Meta";
11783  else if Formula eq 'Interaction' then _METHOD_="Computed";
11784  else if inputName eq '' then _METHOD_="Formula";
11785  else _METHOD_="Computed";
11786  if Formula = '' then Formula = "Mixture of variables";
11787  end;
11788  if _a then output;
11789  drop inputName LEVEL TYPE _MetaFlag;
11790  run;

NOTE: There were 0 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 0 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11791  *Merge Statistics for Input Vars;
11792  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
11793  by NAME;
11794  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11795  data WORK.TRANS_VARSTATS;
11796  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
11797  by NAME;
11798  if _a and _b then do;
11799  SOURCE='Input';
11800  _METHOD_="Original";
11801  end;
11802  if _a then output;
11803  run;

NOTE: There were 0 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 0 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11804  *------------------------------------------------------------*;
11805  * Trans7: Combine statistics for class and interval variables;
11806  *------------------------------------------------------------*;
11807  data EMWS1.Trans7_STATISTICS;
11808  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
11809  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
11810     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
11811     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
11812     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
11813     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
11814  set
11815  WORK.TRANS_CLASSSTATS
11816  WORK.TRANS_VARSTATS
11817  ;
11818  drop UNAME;
11819  run;

NOTE: There were 4 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 0 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS1.TRANS7_STATISTICS has 4 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

11820  proc sort data=EMWS1.Trans7_STATISTICS;
11821  by SOURCE _METHOD_ NAME;
11822  run;

NOTE: There were 4 observations read from the data set EMWS1.TRANS7_STATISTICS.
NOTE: The data set EMWS1.TRANS7_STATISTICS has 4 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

11823  proc sort data = EMWS1.Trans7_STATISTICS NOTHREADS;
11824  by SOURCE NAME;
11825  run;

NOTE: There were 4 observations read from the data set EMWS1.TRANS7_STATISTICS.
NOTE: The data set EMWS1.TRANS7_STATISTICS has 4 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

11826  title9 ' ';
11827  proc print data = EMWS1.Trans7_STATISTICS(obs=500) noobs label;
11828  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
11829  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11830  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
11831  where SOURCE eq 'INPUT' and mean ne .;
11832  run;

NOTE: No observations were selected from data set EMWS1.TRANS7_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS7_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11833  proc print data = EMWS1.Trans7_STATISTICS(obs=500) noobs label;
11834  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
11835  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11836  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
11837  where SOURCE eq 'OUTPUT' and mean ne .;
11838  run;

NOTE: No observations were selected from data set EMWS1.TRANS7_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS7_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11839  proc print data = EMWS1.Trans7_STATISTICS(obs=500) noobs label;
11840  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
11841  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11842  var Name NLEVEL NMISS;
11843  where SOURCE eq 'INPUT' and nlevel ne .;
11844  run;

NOTE: No observations were selected from data set EMWS1.TRANS7_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS7_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11845  proc print data = EMWS1.Trans7_STATISTICS(obs=500) noobs label;
11846  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
11847  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11848  var Name _METHOD_ NLEVEL NMISS;
11849  where SOURCE eq 'OUTPUT' and nlevel ne .;
11850  run;

NOTE: No observations were selected from data set EMWS1.TRANS7_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS7_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11851  title9;
11852  title10;

11853  data EMWS1.Trans7_EMSCOREVAR;
11854  length Name $32 formula $300 file $200;
11855  keep NAME Formula file;
11856  set EMWS1.Trans7_STATISTICS;
11857  where SOURCE='Output';
11858  select( _METHOD_);
11859  when('Computed') do;
11860  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
11861  formula = '';
11862  end;
11863  when('Formula') do;
11864  if Formula eq 'Mixture of variables' then do;
11865  file= "EDITORCODE.sas";
11866  formula = '';
11867  end;
11868  if Formula = 'User Code' then do;
11869  file= "EDITORCODE.sas";
11870  formula = '';
11871  end;
11872  end;
11873  otherwise;
11874  end;
11875  output;
11876  run;

NOTE: There were 1 observations read from the data set EMWS1.TRANS7_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS1.TRANS7_EMSCOREVAR has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

