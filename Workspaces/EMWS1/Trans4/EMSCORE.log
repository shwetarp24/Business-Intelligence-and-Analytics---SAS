*------------------------------------------------------------*
* Score Log
Date:                April 17, 2017
Time:                01:22:17
*------------------------------------------------------------*
11275  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT1;
11276  GiftTimeLast_Rev = -1*GiftTimeLast;
11277  run;

NOTE: Dependency structure written to data set WORK._CODEINPUT1.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.10 seconds
      cpu time            0.01 seconds
      

11278  quit;

11279  data WORK._CODEINPUT1;
11280  length ROLE $32 LEVEL $8 REPORT $1;
11281  retain _FormulaNum 1 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11282  set WORK._CODEINPUT1(keep=RHS rename=(RHS=INPUTNAME));
11283  run;

NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11284  proc sort data=WORK._CODEINPUT1 NODUPKEY;
11285  by INPUTNAME;
11286  run;

NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11287  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT1;
11288  run;

NOTE: Appending WORK._CODEINPUT1 to WORK.TRANS_FORMULAVARS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11289  data WORK.TRANS_FORMULAVARS;
11290  length UNAME $32;
11291  set WORK.TRANS_FORMULAVARS;
11292  UNAME = upcase(INPUTNAME);
11293  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11294  proc sort data=WORK.TRANS_FORMULAVARS;
11295  by UNAME;
11296  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11297  data _temp;
11298  set EMWS1.Trans4_VariableSet(keep=NAME LEVEL ROLE TYPE REPORT rename=(NAME=INPUTNAME LEVEL=INPUTLEVEL ROLE=INPUTROLE TYPE=INPUTTYPE REPORT=INPUTREPORT));
11299  length UNAME $32;
11300  UNAME = upcase(INPUTNAME);
11301  run;

NOTE: There were 27 observations read from the data set EMWS1.TRANS4_VARIABLESET.
NOTE: The data set WORK._TEMP has 27 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11302  proc sort data=_temp;
11303  by UNAME;
11304  run;

NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 27 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11305  data WORK.TRANS_FORMULAVARS;
11306  merge WORK.TRANS_FORMULAVARS(in=_a) _temp(in=_b);
11307  by UNAME;
11308  if _a and _b then output;
11309  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11310  proc sort data=WORK.TRANS_FORMULAVARS;
11311  by _FormulaNum UNAME;
11312  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11313  data WORK.TRANS_FORMULAVARS _target(keep=_FormulaNum);
11314  length ROLE $32 REPORT $1;
11315  set WORK.TRANS_FORMULAVARS;
11316  by _FormulaNum;
11317  if INPUTROLE = 'TARGET' then output _target;
11318  if first._FormulaNum then do;
11319  if ^last._FormulaNum then do;
11320  INPUTNAME='';
11321  INPUTROLE='';
11322  INPUTTYPE='';
11323  INPUTREPORT='';
11324  end;
11325  output WORK.TRANS_FORMULAVARS;
11326  end;
11327  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: The data set WORK._TARGET has 0 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11328  data _temp;
11329  set EMWS1.Trans4_FORMULA;
11330  _FormulaNum = _N_;
11331  run;

NOTE: There were 1 observations read from the data set EMWS1.TRANS4_FORMULA.
NOTE: The data set WORK._TEMP has 1 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11332  data WORK.TRANS_CODEFORMULA;
11333  length Name $32 Formula $300 Role $32 Level $10 REPORT $1;
11334  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA = "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,  NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,  NOQUOTE))" LEVEL =
11335     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel,  NOQUOTE))" REPORT = "%sysfunc(sasmsg(sashelp.dmine, meta_report_vlabel,  NOQUOTE))" _targetFlag = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetbased_vlabel,  NOQUOTE))" INPUTNAME =
11336     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputname_vlabel,  NOQUOTE))" INPUTLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputlevel_vlabel,  NOQUOTE))" INPUTROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputrole_vlabel,  NOQUOTE))" INPUTTYPE =
11337     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputtype_vlabel,  NOQUOTE))";
11338  drop _FormulaNum UNAME;
11339  _targetFlag = 0;
11340  merge _temp(in=_a) WORK.TRANS_FORMULAVARS(in=_b) _target(in=_c);
11341  by _FormulaNum;
11342  _targetFlag = 0;
11343  if _c then _targetFlag=1;
11344  if INPUT ne '' then if _a and ^_b then delete;
11345  if ROLE = '' then do;
11346  if INPUTROLE = '' then ROLE='INPUT';
11347  else ROLE = INPUTROLE;
11348  end;
11349  if REPORT = '' then do;
11350  if INPUTREPORT = '' then REPORT='N';
11351  else REPORT = INPUTREPORT;
11352  end;
11353  run;

NOTE: Variable INPUT is uninitialized.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 0 observations read from the data set WORK._TARGET.
NOTE: The data set WORK.TRANS_CODEFORMULA has 1 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11354  filename _code "H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans4\FORMULAFLOWCODE.sas";
11355  data _null_;
11356  set WORK.TRANS_CODEFORMULA;
11357  file _code;
11358  if type eq 'C' and length > 0 then do;
11359  put 'length ' name ' $' length ';';
11360  end;
11361  if format ne '' then do;
11362  put 'format ' name format ';';
11363  end;
11364  length deqLabel $202;
11365  if label ne '' then do;
11366  deqlabel = tranwrd(label, '"', '""');
11367  put 'label ' name '="' deqlabel '";';
11368  end;
11369  if name ne '' and formula ne '' then do;
11370  put name '=' formula ';';
11371  end;
11372  run;

NOTE: The file _CODE is:
      Filename=H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans4\FORMULAFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=17Apr2017:01:22:17,
      Create Time=17Apr2017:01:22:17

NOTE: 1 record was written to the file _CODE.
      The minimum record length was 35.
      The maximum record length was 35.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

11373  filename _code;
NOTE: Fileref _CODE has been deassigned.

11374  filename _code "H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans4\FORMULAPUBLISHCODE.sas";
11375  data _null_;
11376  set WORK.TRANS_CODEFORMULA;
11377  file _code;
11378  if _targetFlag eq 0 then do;
11379  if type eq 'C' and length > 0 then do;
11380  put 'length ' name ' $' length ';';
11381  end;
11382  if format ne '' then do;
11383  put 'format ' name format ';';
11384  end;
11385  length deqLabel $202;
11386  if label ne '' then do;
11387  deqlabel = tranwrd(label, '"', '""');
11388  put 'label ' name '="' deqlabel '";';
11389  end;
11390  if name ne '' and formula ne '' then do;
11391  put name '=' formula ';';
11392  end;
11393  end;
11394  run;

NOTE: The file _CODE is:
      Filename=H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans4\FORMULAPUBLISHCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=17Apr2017:01:22:17,
      Create Time=17Apr2017:01:22:17

NOTE: 1 record was written to the file _CODE.
      The minimum record length was 35.
      The maximum record length was 35.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

11395  filename _code;
NOTE: Fileref _CODE has been deassigned.

11396  filename _code "H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans4\FORMULADELTACODE.sas";
11397  data _null_;
11398  set WORK.TRANS_CODEFORMULA;
11399  file _code;
11400  length String $200;
11401  if ROLE eq '' then ROLE = 'REJECTED';
11402  if REPORT eq '' then REPORT = 'N';
11403  String = 'if NAME="'!!strip(name)!!'" then do;';
11404  put / string;
11405  String = '   ROLE ="'!!strip(role)!!'";';
11406  put string;
11407  String = '   REPORT ="'!!strip(report)!!'";';
11408  put string;
11409  if LEVEL ne '' then do;
11410  String = '   LEVEL ="'!!strip(level)!!'";';
11411  put string;
11412  end;
11413  put 'end;';
11414  if INPUTNAME ne '' then do;
11415  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
11416  put String;
11417  end;
11418  run;

NOTE: The file _CODE is:
      Filename=H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans4\FORMULADELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=17Apr2017:01:22:17,
      Create Time=17Apr2017:01:22:17

NOTE: 7 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 35.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

11419  filename _code;
NOTE: Fileref _CODE has been deassigned.

NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
11420  proc print data = EMWS1.Trans4_FORMULA(obs=500) noobs label;
11421  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_formulatransformations_title, NOQUOTE))";
11422  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11423  var Name ROLE LEVEL FORMULA;
11424  run;

NOTE: There were 1 observations read from the data set EMWS1.TRANS4_FORMULA.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

11425  title9;
11426  title10;

11427  filename emflow "H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans4\EMFLOWSCORE.sas";
11428  *------------------------------------------------------------*;
11429  * Trans4: Scoring DATA data;
11430  *------------------------------------------------------------*;
11431  data EMWS1.Trans4_TRAIN
11432  / view=EMWS1.Trans4_TRAIN
11433  ;
11434  set EMWS1.Ids2_DATA
11435  ;
11436  %inc emflow;
11441  run;

NOTE: DATA STEP view saved on file EMWS1.TRANS4_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.IDS2_DATA.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      

11442  quit;
11443  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

11444  *------------------------------------------------------------*;
11445  * Trans4: Computing metadata for TRAIN data;
11446  *------------------------------------------------------------*;

NOTE: View EMWS1.TRANS4_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      
NOTE: View EMWS1.TRANS4_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
