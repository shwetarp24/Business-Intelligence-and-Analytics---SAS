*------------------------------------------------------------*
* Report Log
Date:                April 17, 2017
Time:                01:32:07
*------------------------------------------------------------*
12038  *------------------------------------------------------------*;
12039  * &msgString;
12040  *------------------------------------------------------------*;
12041  filename _flowref "H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans6\EMFLOWSCORE.sas";
12042  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
12043  %INCLUDE _flowref;
12110  run;

NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12111  quit;
12112  data WORK.TRANS_SCOREINPUTS;
12113  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
12114  length UNAME $32;
12115  UNAME = upcase(NAME);
12116  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

12117  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
12118  by UNAME;
12119  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12120  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
12121  %let SYSCC = 0;
12122  *------------------------------------------------------------*;
12123  * transformcombinevariables;
12124  *------------------------------------------------------------*;
12125  data WORK.TRANS_OUTPUTVARS;
12126  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
12127  set
12128  EMWS1.Trans6_RESULT
12129  ;
12130  _MetaFlag=0;
12131  uname = upcase(name);
12132  run;

NOTE: There were 3 observations read from the data set EMWS1.TRANS6_RESULT.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12133  data _temp;
12134  length UNAME $32;
12135  set EMWS1.Trans6_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
12136  UNAME = upcase(name);
12137  where upcase(CREATOR) = upcase("Trans6");
12138  run;

NOTE: There were 3 observations read from the data set EMWS1.TRANS6_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS6';
NOTE: The data set WORK._TEMP has 3 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

12139  proc sort data=_temp(drop=CREATOR);
12140  by UNAME;
12141  run;

NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 3 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12142  proc sort data=WORK.TRANS_OUTPUTVARS;
12143  by UNAME;
12144  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12145  data WORK.TRANS_OUTPUTVARS;
12146  merge WORK.TRANS_OUTPUTVARS _temp;
12147  by UNAME;
12148  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12149  *------------------------------------------------------------*;
12150  * Trans6: Get Metadata for the Score Inputs Variables;
12151  *------------------------------------------------------------*;
12152  data _temp;
12153  length UNAME $32;
12154  set EMWS1.Trans6_VariableSet(keep=NAME LEVEL TYPE LABEL);
12155  UNAME = upcase(name);
12156  run;

NOTE: There were 28 observations read from the data set EMWS1.TRANS6_VARIABLESET.
NOTE: The data set WORK._TEMP has 28 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12157  proc sort data=_temp;
12158  by UNAME;
12159  run;

NOTE: There were 28 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 28 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12160  data WORK.TRANS_SCOREINPUTS;
12161  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
12162  by UNAME;
12163  if _a and _b then output;
12164  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 28 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12165  *------------------------------------------------------------*;
12166  * Trans6: Computing Summary Statistics;
12167  *------------------------------------------------------------*;
12168  proc dmdb data=EMWS1.Trans6_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
12169  class
12170  PCTL_GiftCntAll
12171  PCTL_GiftDolAll
12172  PCTL_GiftTimeLast_Rev
12173  ;
12174  var
12175  GiftCntAll
12176  GiftDolAll
12177  GiftTimeLast_Rev
12178  ;
12179  run;

NOTE: Records processed = 9686   Memory used = 511K.
NOTE: There were 9686 observations read from the data set BIA.PVA97NK.
NOTE: There were 9686 observations read from the data set EMWS1.IDS2_DATA.
NOTE: There were 9686 observations read from the data set EMWS1.TRANS4_TRAIN.
NOTE: View EMWS1.TRANS6_TRAIN.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
      
NOTE: There were 9686 observations read from the data set EMWS1.TRANS5_TRAIN.
NOTE: There were 9686 observations read from the data set EMWS1.TRANS6_TRAIN.
NOTE: The data set WORK.TRANS_CLASSSTATS has 15 observations and 9 variables.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.15 seconds
      cpu time            0.15 seconds
      

12180  *------------------------------------------------------------*;
12181  * Trans6: Combine Information and Statistics for Class Variables;
12182  *------------------------------------------------------------*;
12183  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12184  by NAME;
12185  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12186  proc sort data=WORK.TRANS_CLASSSTATS;
12187  by NAME;
12188  run;

NOTE: There were 15 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 15 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12189  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
12190  retain nlevel nmiss;
12191  set WORK.TRANS_CLASSSTATS;
12192  by Name;
12193  if first.Name then do;
12194  nlevel= 0;
12195  nmiss= 0;
12196  end;
12197  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
12198  else nlevel + 1;
12199  if last.name then output;
12200  run;

NOTE: There were 15 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12201  /*Merge Statistics for Class Output Vars */
12202  data WORK.TRANS_CLASSSTATS;
12203  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12204  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
12205  by NAME;
12206  if _a and _b then do;
12207  SOURCE='Output';
12208  if _MetaFlag = 1 then _METHOD_="Meta";
12209  else if Formula eq 'Interaction' then _METHOD_="Computed";
12210  else if inputName eq '' then _METHOD_="Formula";
12211  else _METHOD_="Computed";
12212  if Formula = '' then Formula = "User Code";
12213  end;
12214  if _a then output;
12215  drop inputName LEVEL TYPE _MetaFlag;
12216  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12217  /*Merge Statistics for Class Input Vars */
12218  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12219  by NAME;
12220  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12221  data WORK.TRANS_CLASSSTATS;
12222  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
12223  by NAME;
12224  if _a and _b then do;
12225  SOURCE='Input';
12226  _METHOD_="Original";
12227  end;
12228  if _a then output;
12229  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12230  *------------------------------------------------------------*;
12231  * Trans6: Combine Information and Statistics for Interval Variables;
12232  *------------------------------------------------------------*;
12233  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12234  by NAME;
12235  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12236  proc sort data=WORK.TRANS_VARSTATS;
12237  by NAME;
12238  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12239  *Merge Statistics for Output Vars;
12240  data WORK.TRANS_VARSTATS;
12241  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12242  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
12243  by NAME;
12244  if _a and _b then do;
12245  SOURCE='Output';
12246  if _MetaFlag = 1 then _METHOD_="Meta";
12247  else if Formula eq 'Interaction' then _METHOD_="Computed";
12248  else if inputName eq '' then _METHOD_="Formula";
12249  else _METHOD_="Computed";
12250  if Formula = '' then Formula = "Mixture of variables";
12251  end;
12252  if _a then output;
12253  drop inputName LEVEL TYPE _MetaFlag;
12254  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12255  *Merge Statistics for Input Vars;
12256  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12257  by NAME;
12258  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12259  data WORK.TRANS_VARSTATS;
12260  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
12261  by NAME;
12262  if _a and _b then do;
12263  SOURCE='Input';
12264  _METHOD_="Original";
12265  end;
12266  if _a then output;
12267  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12268  *------------------------------------------------------------*;
12269  * Trans6: Combine statistics for class and interval variables;
12270  *------------------------------------------------------------*;
12271  data EMWS1.Trans6_STATISTICS;
12272  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12273  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
12274     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
12275     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
12276     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
12277     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
12278  set
12279  WORK.TRANS_CLASSSTATS
12280  WORK.TRANS_VARSTATS
12281  ;
12282  drop UNAME;
12283  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS1.TRANS6_STATISTICS has 6 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
      

12284  proc sort data=EMWS1.Trans6_STATISTICS;
12285  by SOURCE _METHOD_ NAME;
12286  run;

NOTE: There were 6 observations read from the data set EMWS1.TRANS6_STATISTICS.
NOTE: The data set EMWS1.TRANS6_STATISTICS has 6 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.09 seconds
      cpu time            0.00 seconds
      

12287  proc sort data = EMWS1.Trans6_STATISTICS NOTHREADS;
12288  by SOURCE NAME;
12289  run;

NOTE: There were 6 observations read from the data set EMWS1.TRANS6_STATISTICS.
NOTE: The data set EMWS1.TRANS6_STATISTICS has 6 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.00 seconds
      

12290  title9 ' ';
12291  proc print data = EMWS1.Trans6_STATISTICS(obs=500) noobs label;
12292  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12293  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12294  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12295  where SOURCE eq 'INPUT' and mean ne .;
12296  run;

NOTE: No observations were selected from data set EMWS1.TRANS6_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS6_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

12297  proc print data = EMWS1.Trans6_STATISTICS(obs=500) noobs label;
12298  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12299  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12300  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12301  where SOURCE eq 'OUTPUT' and mean ne .;
12302  run;

NOTE: No observations were selected from data set EMWS1.TRANS6_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS6_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12303  proc print data = EMWS1.Trans6_STATISTICS(obs=500) noobs label;
12304  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12305  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12306  var Name NLEVEL NMISS;
12307  where SOURCE eq 'INPUT' and nlevel ne .;
12308  run;

NOTE: No observations were selected from data set EMWS1.TRANS6_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS6_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12309  proc print data = EMWS1.Trans6_STATISTICS(obs=500) noobs label;
12310  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12311  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12312  var Name _METHOD_ NLEVEL NMISS;
12313  where SOURCE eq 'OUTPUT' and nlevel ne .;
12314  run;

NOTE: No observations were selected from data set EMWS1.TRANS6_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS6_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12315  title9;
12316  title10;

12317  data EMWS1.Trans6_EMSCOREVAR;
12318  length Name $32 formula $300 file $200;
12319  keep NAME Formula file;
12320  set EMWS1.Trans6_STATISTICS;
12321  where SOURCE='Output';
12322  select( _METHOD_);
12323  when('Computed') do;
12324  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12325  formula = '';
12326  end;
12327  when('Formula') do;
12328  if Formula eq 'Mixture of variables' then do;
12329  file= "EDITORCODE.sas";
12330  formula = '';
12331  end;
12332  if Formula = 'User Code' then do;
12333  file= "EDITORCODE.sas";
12334  formula = '';
12335  end;
12336  end;
12337  otherwise;
12338  end;
12339  output;
12340  run;

NOTE: There were 3 observations read from the data set EMWS1.TRANS6_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS1.TRANS6_EMSCOREVAR has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
      

