*------------------------------------------------------------*
User:                pkumari1
Date:                April 10, 2017
Time:                14:21:52
Site:                70080897
Platform:            X64_8PRO
Maintenance Release: 9.04.01M3P062415
EM Version:          14.1
* 
*------------------------------------------------------------*
* Training Log
Date:                April 10, 2017
Time:                14:21:47
*------------------------------------------------------------*
10867  proc freq data=EMWS1.Trans_VariableSet noprint;
10868  table ROLE*LEVEL/out=WORK.TransMETA;
10869  run;
 
NOTE: There were 97 observations read from the data set EMWS1.TRANS_VARIABLESET.
NOTE: The data set WORK.TRANSMETA has 7 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.05 seconds
      cpu time            0.00 seconds
 
 
10870  proc print data=WORK.TransMETA label noobs;
10871  var ROLE LEVEL COUNT;
10872  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
10873  title9 ' ';
10874  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
10875  run;
 
NOTE: There were 7 observations read from the data set WORK.TRANSMETA.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
10876  title10;
 
10877  data WORK.M3IQ67W1;
10878  set WORK.M3IQ67W1;
10879  if (METHOD='NONE' and ROLE ne 'FREQ') or (role = 'REJECTED' and METHOD = 'DEFAULT') then delete;
10880  run;
 
NOTE: There were 97 observations read from the data set WORK.M3IQ67W1.
NOTE: The data set WORK.M3IQ67W1 has 92 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
NOTE: View EMWS1.IDS_DATA.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.03 seconds
 
NOTE: There were 48356 observations read from the data set BIA.CATALOG2010.
10945  *------------------------------------------------------------*;
10946  * Trans: Computing Summary Statistics;
10947  *------------------------------------------------------------*;
10948  data WORK.M3P8_EMR;
10949  set WORK.M3P8_EMR;
10950  if (role = 'REJECTED') then role = 'INPUT';
10951  run;
 
NOTE: There were 92 observations read from the data set WORK.M3P8_EMR.
NOTE: The data set WORK.M3P8_EMR has 92 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
10952  *------------------------------------------------------------* ;
10953  * EM: DMDBClass Macro ;
10954  *------------------------------------------------------------* ;
10955  %macro DMDBClass;
10956      BOTHPAYM(ASC) CCPAYM(ASC) METHPAYM(ASC) PCPAYM(ASC) RESPOND(DESC)
10957  %mend DMDBClass;
10958  *------------------------------------------------------------* ;
10959  * EM: DMDBVar Macro ;
10960  *------------------------------------------------------------* ;
10961  %macro DMDBVar;
10962      ACTBUY BUYPROP CATALOGCNT DAYLAST DEPT01 DEPT02 DEPT03 DEPT04 DEPT05 DEPT06
10963     DEPT07 DEPT08 DEPT09 DEPT10 DEPT11 DEPT12 DEPT13 DEPT14 DEPT15 DEPT16 DEPT17
10964     DEPT18 DEPT19 DEPT20 DEPT21 DEPT22 DEPT23 DEPT24 DEPT25 DEPT26 DEPT27 DOLINDEA
10965     DOLINDET DOLL24 DOLLARQ01 DOLLARQ02 DOLLARQ03 DOLLARQ04 DOLLARQ05 DOLLARQ06
10966     DOLLARQ07 DOLLARQ08 DOLLARQ09 DOLLARQ10 DOLLARQ11 DOLLARQ12 DOLLARQ13 DOLLARQ14
10967     DOLLARQ15 DOLLARQ16 DOLLARQ17 DOLLARQ18 DOLLARQ19 DOLLARQ20 DOLLARQ21 DOLLARQ22
10968     DOLNETDA DOLNETDT FREQPRCH MONLAST ORDERSIZE TENURE TOTORDQ01 TOTORDQ02
10969     TOTORDQ03 TOTORDQ04 TOTORDQ05 TOTORDQ06 TOTORDQ07 TOTORDQ08 TOTORDQ09 TOTORDQ10
10970     TOTORDQ11 TOTORDQ12 TOTORDQ13 TOTORDQ14 TOTORDQ15 TOTORDQ16 TOTORDQ17 TOTORDQ18
10971     TOTORDQ19 TOTORDQ20 TOTORDQ21 TOTORDQ22 UNITSIDD UNITSLAP UNTLANPO
10972  %mend DMDBVar;
10973  *------------------------------------------------------------*;
10974  * EM: Create DMDB;
10975  *------------------------------------------------------------*;
10976  proc dmdb batch data=EMWS1.Ids_DATA
10977  dmdbcat=WORK.EM_DMDB
10978  classout=WORK.Transclassout
10979  maxlevel = 513
10980  ;
10981  class %DMDBClass;
10982  var %DMDBVar;
10983  target
10984  ORDERSIZE
10985  RESPOND
10986  ;
10987  run;
 
NOTE: Records processed = 48356   Memory used = 511K.
NOTE: View EMWS1.IDS_DATA.VIEW used (Total process time):
      real time           0.33 seconds
      cpu time            0.09 seconds
 
NOTE: There were 48356 observations read from the data set BIA.CATALOG2010.
NOTE: There were 48356 observations read from the data set EMWS1.IDS_DATA.
NOTE: The data set WORK.TRANSCLASSOUT has 12 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.34 seconds
      cpu time            0.12 seconds
 
 
10988  quit;
10989  *--- end code ---*;
 
10990  data WORK.TransINTERVALMETA;
10991  set WORK.M3IQ67W1;
10992  if LEVEL ne 'INTERVAL' then delete;
10993  run;
 
NOTE: There were 92 observations read from the data set WORK.M3IQ67W1.
NOTE: The data set WORK.TRANSINTERVALMETA has 87 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
10994  *------------------------------------------------------------*;
10995  * Trans: Determining Variables to Scale;
10996  *------------------------------------------------------------*;
10997  data WORK.M05DNZU0;
10998  set WORK.M05DNZU0;
10999  where (TYPE="N" and (METHOD in("MAX_NORM", "MAX_CORR", "EQUALIZE", "OP_MAX_NORM", "OP_EQUALIZE"))) or (ROLE eq "FREQ");
11000  run;
 
NOTE: There were 0 observations read from the data set WORK.M05DNZU0.
      WHERE ((TYPE='N') and METHOD in ('EQUALIZE', 'MAX_CORR', 'MAX_NORM', 'OP_EQUALIZE', 'OP_MAX_NORM')) or (ROLE='FREQ');
NOTE: The data set WORK.M05DNZU0 has 0 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS1.IDS_DATA.VIEW used (Total process time):
      real time           0.28 seconds
      cpu time            0.11 seconds
 
11003  %exploreSample(DATA=EMWS1.Ids_DATA, OUTPUT=EMWS1.Trans_SAMPLE_DATA, METADATA=EMWS1.Ids_CMeta_DATA, VARS=, METHOD=FIRSTN, SIZE=DEFAULT, ALPHA=0.01, PVALUE=0.01, SEED=12345);
NOTE: Fileref X has been deassigned.
NOTE: EXPLOREOBS EMWS1.Ids_DATA : vars= 98 : recl= 760 : max=20000 : def= 2000
PERFORMANCE  DETAILS
*------------------------------------------------------------*
* FirstN/Top sample
*------------------------------------------------------------*
 
NOTE: View EMWS1.IDS_DATA.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
 
NOTE: There were 48356 observations read from the data set BIA.CATALOG2010.
NOTE: There were 2000 observations read from the data set EMWS1.IDS_DATA.
NOTE: The data set EMWS1.TRANS_SAMPLE_DATA has 2000 observations and 98 variables.
NOTE: DATA statement used (Total process time):
      real time           0.19 seconds
      cpu time            0.03 seconds
 
 
 
*------------------------------------------------------------*
* Score Log
Date:                April 10, 2017
Time:                14:21:50
*------------------------------------------------------------*
11281  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT1;
11282  DAYLAST_REV = -1*DAYLAST;
11283  run;
 
NOTE: Dependency structure written to data set WORK._CODEINPUT1.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.56 seconds
      cpu time            0.00 seconds
 
 
11284  quit;
 
11285  data WORK._CODEINPUT1;
11286  length ROLE $32 LEVEL $8 REPORT $1;
11287  retain _FormulaNum 1 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11288  set WORK._CODEINPUT1(keep=RHS rename=(RHS=INPUTNAME));
11289  run;
 
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
11290  proc sort data=WORK._CODEINPUT1 NODUPKEY;
11291  by INPUTNAME;
11292  run;
 
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11293  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT1;
11294  run;
 
NOTE: Appending WORK._CODEINPUT1 to WORK.TRANS_FORMULAVARS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
11295  data WORK.TRANS_FORMULAVARS;
11296  length UNAME $32;
11297  set WORK.TRANS_FORMULAVARS;
11298  UNAME = upcase(INPUTNAME);
11299  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11300  proc sort data=WORK.TRANS_FORMULAVARS;
11301  by UNAME;
11302  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11303  data _temp;
11304  set EMWS1.Trans_VariableSet(keep=NAME LEVEL ROLE TYPE REPORT rename=(NAME=INPUTNAME LEVEL=INPUTLEVEL ROLE=INPUTROLE TYPE=INPUTTYPE REPORT=INPUTREPORT));
11305  length UNAME $32;
11306  UNAME = upcase(INPUTNAME);
11307  run;
 
NOTE: There were 97 observations read from the data set EMWS1.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 97 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
 
 
11308  proc sort data=_temp;
11309  by UNAME;
11310  run;
 
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 97 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11311  data WORK.TRANS_FORMULAVARS;
11312  merge WORK.TRANS_FORMULAVARS(in=_a) _temp(in=_b);
11313  by UNAME;
11314  if _a and _b then output;
11315  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11316  proc sort data=WORK.TRANS_FORMULAVARS;
11317  by _FormulaNum UNAME;
11318  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
11319  data WORK.TRANS_FORMULAVARS _target(keep=_FormulaNum);
11320  length ROLE $32 REPORT $1;
11321  set WORK.TRANS_FORMULAVARS;
11322  by _FormulaNum;
11323  if INPUTROLE = 'TARGET' then output _target;
11324  if first._FormulaNum then do;
11325  if ^last._FormulaNum then do;
11326  INPUTNAME='';
11327  INPUTROLE='';
11328  INPUTTYPE='';
11329  INPUTREPORT='';
11330  end;
11331  output WORK.TRANS_FORMULAVARS;
11332  end;
11333  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: The data set WORK._TARGET has 0 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11334  data _temp;
11335  set EMWS1.Trans_FORMULA;
11336  _FormulaNum = _N_;
11337  run;
 
NOTE: There were 1 observations read from the data set EMWS1.TRANS_FORMULA.
NOTE: The data set WORK._TEMP has 1 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11338  data WORK.TRANS_CODEFORMULA;
11339  length Name $32 Formula $300 Role $32 Level $10 REPORT $1;
11340  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA = "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,  NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,  NOQUOTE))" LEVEL =
11341     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel,  NOQUOTE))" REPORT = "%sysfunc(sasmsg(sashelp.dmine, meta_report_vlabel,  NOQUOTE))" _targetFlag = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetbased_vlabel,  NOQUOTE))" INPUTNAME =
11342     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputname_vlabel,  NOQUOTE))" INPUTLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputlevel_vlabel,  NOQUOTE))" INPUTROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputrole_vlabel,  NOQUOTE))" INPUTTYPE =
11343     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputtype_vlabel,  NOQUOTE))";
11344  drop _FormulaNum UNAME;
11345  _targetFlag = 0;
11346  merge _temp(in=_a) WORK.TRANS_FORMULAVARS(in=_b) _target(in=_c);
11347  by _FormulaNum;
11348  _targetFlag = 0;
11349  if _c then _targetFlag=1;
11350  if INPUT ne '' then if _a and ^_b then delete;
11351  if ROLE = '' then do;
11352  if INPUTROLE = '' then ROLE='INPUT';
11353  else ROLE = INPUTROLE;
11354  end;
11355  if REPORT = '' then do;
11356  if INPUTREPORT = '' then REPORT='N';
11357  else REPORT = INPUTREPORT;
11358  end;
11359  run;
 
NOTE: Variable INPUT is uninitialized.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 0 observations read from the data set WORK._TARGET.
NOTE: The data set WORK.TRANS_CODEFORMULA has 1 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
 
 
11360  filename _code "H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans\FORMULAFLOWCODE.sas";
11361  data _null_;
11362  set WORK.TRANS_CODEFORMULA;
11363  file _code;
11364  if type eq 'C' and length > 0 then do;
11365  put 'length ' name ' $' length ';';
11366  end;
11367  if format ne '' then do;
11368  put 'format ' name format ';';
11369  end;
11370  length deqLabel $202;
11371  if label ne '' then do;
11372  deqlabel = tranwrd(label, '"', '""');
11373  put 'label ' name '="' deqlabel '";';
11374  end;
11375  if name ne '' and formula ne '' then do;
11376  put name '=' formula ';';
11377  end;
11378  run;
 
NOTE: The file _CODE is:
      Filename=H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans\FORMULAFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=10Apr2017:14:21:50,
      Create Time=10Apr2017:14:21:50
 
NOTE: 1 record was written to the file _CODE.
      The minimum record length was 25.
      The maximum record length was 25.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11379  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11380  filename _code "H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans\FORMULAPUBLISHCODE.sas";
11381  data _null_;
11382  set WORK.TRANS_CODEFORMULA;
11383  file _code;
11384  if _targetFlag eq 0 then do;
11385  if type eq 'C' and length > 0 then do;
11386  put 'length ' name ' $' length ';';
11387  end;
11388  if format ne '' then do;
11389  put 'format ' name format ';';
11390  end;
11391  length deqLabel $202;
11392  if label ne '' then do;
11393  deqlabel = tranwrd(label, '"', '""');
11394  put 'label ' name '="' deqlabel '";';
11395  end;
11396  if name ne '' and formula ne '' then do;
11397  put name '=' formula ';';
11398  end;
11399  end;
11400  run;
 
NOTE: The file _CODE is:
      Filename=H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans\FORMULAPUBLISHCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=10Apr2017:14:21:50,
      Create Time=10Apr2017:14:21:50
 
NOTE: 1 record was written to the file _CODE.
      The minimum record length was 25.
      The maximum record length was 25.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.18 seconds
      cpu time            0.00 seconds
 
 
11401  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11402  filename _code "H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans\FORMULADELTACODE.sas";
11403  data _null_;
11404  set WORK.TRANS_CODEFORMULA;
11405  file _code;
11406  length String $200;
11407  if ROLE eq '' then ROLE = 'REJECTED';
11408  if REPORT eq '' then REPORT = 'N';
11409  String = 'if NAME="'!!strip(name)!!'" then do;';
11410  put / string;
11411  String = '   ROLE ="'!!strip(role)!!'";';
11412  put string;
11413  String = '   REPORT ="'!!strip(report)!!'";';
11414  put string;
11415  if LEVEL ne '' then do;
11416  String = '   LEVEL ="'!!strip(level)!!'";';
11417  put string;
11418  end;
11419  put 'end;';
11420  if INPUTNAME ne '' then do;
11421  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
11422  put String;
11423  end;
11424  run;
 
NOTE: The file _CODE is:
      Filename=H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans\FORMULADELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=10Apr2017:14:21:50,
      Create Time=10Apr2017:14:21:50
 
NOTE: 7 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 30.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11425  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
11426  proc print data = EMWS1.Trans_FORMULA(obs=500) noobs label;
11427  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_formulatransformations_title, NOQUOTE))";
11428  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11429  var Name ROLE LEVEL FORMULA;
11430  run;
 
NOTE: There were 1 observations read from the data set EMWS1.TRANS_FORMULA.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11431  title9;
11432  title10;
 
11433  filename emflow "H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans\EMFLOWSCORE.sas";
11434  *------------------------------------------------------------*;
11435  * Trans: Scoring DATA data;
11436  *------------------------------------------------------------*;
11437  data EMWS1.Trans_TRAIN
11438  / view=EMWS1.Trans_TRAIN
11439  ;
11440  set EMWS1.Ids_DATA
11441  ;
11442  %inc emflow;
11447  run;
 
NOTE: DATA STEP view saved on file EMWS1.TRANS_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.IDS_DATA.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.04 seconds
 
 
11448  quit;
11449  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
 
11450  *------------------------------------------------------------*;
11451  * Trans: Computing metadata for TRAIN data;
11452  *------------------------------------------------------------*;
 
NOTE: View EMWS1.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
 
NOTE: View EMWS1.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
 
*------------------------------------------------------------*
* Report Log
Date:                April 10, 2017
Time:                14:21:51
*------------------------------------------------------------*
11823  *------------------------------------------------------------*;
11824  * &msgString;
11825  *------------------------------------------------------------*;
11826  filename _flowref "H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans\EMFLOWSCORE.sas";
11827  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
11828  %INCLUDE _flowref;
11833  run;
 
NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11834  quit;
11835  data WORK.TRANS_SCOREINPUTS;
11836  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
11837  length UNAME $32;
11838  UNAME = upcase(NAME);
11839  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11840  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
11841  by UNAME;
11842  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11843  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
11844  %let SYSCC = 0;
11845  *------------------------------------------------------------*;
11846  * transformcombinevariables;
11847  *------------------------------------------------------------*;
11848  data WORK.TRANS_OUTPUTVARS;
11849  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
11850  set
11851  EMWS1.Trans_FORMULA
11852  ;
11853  _MetaFlag=0;
11854  uname = upcase(name);
11855  run;
 
NOTE: Variable inputName is uninitialized.
NOTE: Variable inputLevel is uninitialized.
NOTE: Variable inputType is uninitialized.
NOTE: There were 1 observations read from the data set EMWS1.TRANS_FORMULA.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11856  data _temp;
11857  length UNAME $32;
11858  set EMWS1.Trans_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
11859  UNAME = upcase(name);
11860  where upcase(CREATOR) = upcase("Trans");
11861  run;
 
NOTE: There were 1 observations read from the data set EMWS1.TRANS_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS';
NOTE: The data set WORK._TEMP has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
 
 
11862  proc sort data=_temp(drop=CREATOR);
11863  by UNAME;
11864  run;
 
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11865  proc sort data=WORK.TRANS_OUTPUTVARS;
11866  by UNAME;
11867  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11868  data WORK.TRANS_OUTPUTVARS;
11869  merge WORK.TRANS_OUTPUTVARS _temp;
11870  by UNAME;
11871  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11872  *------------------------------------------------------------*;
11873  * Trans: Get Metadata for the Score Inputs Variables;
11874  *------------------------------------------------------------*;
11875  data _temp;
11876  length UNAME $32;
11877  set EMWS1.Trans_VariableSet(keep=NAME LEVEL TYPE LABEL);
11878  UNAME = upcase(name);
11879  run;
 
NOTE: There were 97 observations read from the data set EMWS1.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
11880  proc sort data=_temp;
11881  by UNAME;
11882  run;
 
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11883  data WORK.TRANS_SCOREINPUTS;
11884  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
11885  by UNAME;
11886  if _a and _b then output;
11887  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11888  *------------------------------------------------------------*;
11889  * Trans: Computing Summary Statistics;
11890  *------------------------------------------------------------*;
11891  proc dmdb data=EMWS1.Trans_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
11892  ;
11893  var
11894  DAYLAST
11895  DAYLAST_REV
11896  ;
11897  run;
 
NOTE: Records processed = 48356   Memory used = 511K.
NOTE: There were 48356 observations read from the data set BIA.CATALOG2010.
NOTE: View EMWS1.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
NOTE: There were 48356 observations read from the data set EMWS1.IDS_DATA.
NOTE: There were 48356 observations read from the data set EMWS1.TRANS_TRAIN.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.08 seconds
      cpu time            0.09 seconds
 
 
11898  *------------------------------------------------------------*;
11899  * Trans: Combine Information and Statistics for Class Variables;
11900  *------------------------------------------------------------*;
11901  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
11902  by NAME;
11903  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11904  proc sort data=WORK.TRANS_CLASSSTATS;
11905  by NAME;
11906  run;
 
NOTE: Input data set is empty.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11907  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
11908  retain nlevel nmiss;
11909  set WORK.TRANS_CLASSSTATS;
11910  by Name;
11911  if first.Name then do;
11912  nlevel= 0;
11913  nmiss= 0;
11914  end;
11915  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
11916  else nlevel + 1;
11917  if last.name then output;
11918  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11919  /*Merge Statistics for Class Output Vars */
11920  data WORK.TRANS_CLASSSTATS;
11921  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
11922  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
11923  by NAME;
11924  if _a and _b then do;
11925  SOURCE='Output';
11926  if _MetaFlag = 1 then _METHOD_="Meta";
11927  else if Formula eq 'Interaction' then _METHOD_="Computed";
11928  else if inputName eq '' then _METHOD_="Formula";
11929  else _METHOD_="Computed";
11930  if Formula = '' then Formula = "User Code";
11931  end;
11932  if _a then output;
11933  drop inputName LEVEL TYPE _MetaFlag;
11934  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11935  /*Merge Statistics for Class Input Vars */
11936  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
11937  by NAME;
11938  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 1 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11939  data WORK.TRANS_CLASSSTATS;
11940  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
11941  by NAME;
11942  if _a and _b then do;
11943  SOURCE='Input';
11944  _METHOD_="Original";
11945  end;
11946  if _a then output;
11947  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11948  *------------------------------------------------------------*;
11949  * Trans: Combine Information and Statistics for Interval Variables;
11950  *------------------------------------------------------------*;
11951  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
11952  by NAME;
11953  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11954  proc sort data=WORK.TRANS_VARSTATS;
11955  by NAME;
11956  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11957  *Merge Statistics for Output Vars;
11958  data WORK.TRANS_VARSTATS;
11959  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
11960  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
11961  by NAME;
11962  if _a and _b then do;
11963  SOURCE='Output';
11964  if _MetaFlag = 1 then _METHOD_="Meta";
11965  else if Formula eq 'Interaction' then _METHOD_="Computed";
11966  else if inputName eq '' then _METHOD_="Formula";
11967  else _METHOD_="Computed";
11968  if Formula = '' then Formula = "Mixture of variables";
11969  end;
11970  if _a then output;
11971  drop inputName LEVEL TYPE _MetaFlag;
11972  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
11973  *Merge Statistics for Input Vars;
11974  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
11975  by NAME;
11976  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 1 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.00 seconds
 
 
11977  data WORK.TRANS_VARSTATS;
11978  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
11979  by NAME;
11980  if _a and _b then do;
11981  SOURCE='Input';
11982  _METHOD_="Original";
11983  end;
11984  if _a then output;
11985  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
11986  *------------------------------------------------------------*;
11987  * Trans: Combine statistics for class and interval variables;
11988  *------------------------------------------------------------*;
11989  data EMWS1.Trans_STATISTICS;
11990  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
11991  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
11992     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
11993     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
11994     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
11995     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
11996  set
11997  WORK.TRANS_CLASSSTATS
11998  WORK.TRANS_VARSTATS
11999  ;
12000  drop UNAME;
12001  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS1.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.20 seconds
      cpu time            0.01 seconds
 
 
12002  proc sort data=EMWS1.Trans_STATISTICS;
12003  by SOURCE _METHOD_ NAME;
12004  run;
 
NOTE: There were 2 observations read from the data set EMWS1.TRANS_STATISTICS.
NOTE: The data set EMWS1.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.08 seconds
      cpu time            0.00 seconds
 
 
12005  proc sort data = EMWS1.Trans_STATISTICS NOTHREADS;
12006  by SOURCE NAME;
12007  run;
 
NOTE: There were 2 observations read from the data set EMWS1.TRANS_STATISTICS.
NOTE: The data set EMWS1.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
 
 
12008  title9 ' ';
12009  proc print data = EMWS1.Trans_STATISTICS(obs=500) noobs label;
12010  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12011  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12012  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12013  where SOURCE eq 'INPUT' and mean ne .;
12014  run;
 
NOTE: No observations were selected from data set EMWS1.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12015  proc print data = EMWS1.Trans_STATISTICS(obs=500) noobs label;
12016  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12017  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12018  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12019  where SOURCE eq 'OUTPUT' and mean ne .;
12020  run;
 
NOTE: No observations were selected from data set EMWS1.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12021  proc print data = EMWS1.Trans_STATISTICS(obs=500) noobs label;
12022  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12023  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12024  var Name NLEVEL NMISS;
12025  where SOURCE eq 'INPUT' and nlevel ne .;
12026  run;
 
NOTE: No observations were selected from data set EMWS1.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12027  proc print data = EMWS1.Trans_STATISTICS(obs=500) noobs label;
12028  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12029  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12030  var Name _METHOD_ NLEVEL NMISS;
12031  where SOURCE eq 'OUTPUT' and nlevel ne .;
12032  run;
 
NOTE: No observations were selected from data set EMWS1.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12033  title9;
12034  title10;
 
12035  data EMWS1.Trans_EMSCOREVAR;
12036  length Name $32 formula $300 file $200;
12037  keep NAME Formula file;
12038  set EMWS1.Trans_STATISTICS;
12039  where SOURCE='Output';
12040  select( _METHOD_);
12041  when('Computed') do;
12042  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12043  formula = '';
12044  end;
12045  when('Formula') do;
12046  if Formula eq 'Mixture of variables' then do;
12047  file= "EDITORCODE.sas";
12048  formula = '';
12049  end;
12050  if Formula = 'User Code' then do;
12051  file= "EDITORCODE.sas";
12052  formula = '';
12053  end;
12054  end;
12055  otherwise;
12056  end;
12057  output;
12058  run;
 
NOTE: There were 1 observations read from the data set EMWS1.TRANS_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS1.TRANS_EMSCOREVAR has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.00 seconds
 
 
