*------------------------------------------------------------*
* Report Log
Date:                April 17, 2017
Time:                01:28:00
*------------------------------------------------------------*
11639  *------------------------------------------------------------*;
11640  * &msgString;
11641  *------------------------------------------------------------*;
11642  filename _flowref "H:\Bia_Priya\Project_PredictiveAnalysis\Workspaces\EMWS1\Trans5\EMFLOWSCORE.sas";
11643  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
11644  %INCLUDE _flowref;
11649  run;

NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11650  quit;
11651  data WORK.TRANS_SCOREINPUTS;
11652  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
11653  length UNAME $32;
11654  UNAME = upcase(NAME);
11655  run;

NOTE: There were 2 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 2 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11656  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
11657  by UNAME;
11658  run;

NOTE: There were 2 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 2 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11659  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
11660  %let SYSCC = 0;
11661  *------------------------------------------------------------*;
11662  * transformcombinevariables;
11663  *------------------------------------------------------------*;
11664  data WORK.TRANS_OUTPUTVARS;
11665  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
11666  set
11667  EMWS1.Trans5_FORMULA
11668  ;
11669  _MetaFlag=0;
11670  uname = upcase(name);
11671  run;

NOTE: Variable inputName is uninitialized.
NOTE: Variable inputLevel is uninitialized.
NOTE: Variable inputType is uninitialized.
NOTE: There were 1 observations read from the data set EMWS1.TRANS5_FORMULA.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11672  data _temp;
11673  length UNAME $32;
11674  set EMWS1.Trans5_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
11675  UNAME = upcase(name);
11676  where upcase(CREATOR) = upcase("Trans5");
11677  run;

NOTE: There were 1 observations read from the data set EMWS1.TRANS5_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS5';
NOTE: The data set WORK._TEMP has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

11678  proc sort data=_temp(drop=CREATOR);
11679  by UNAME;
11680  run;

NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11681  proc sort data=WORK.TRANS_OUTPUTVARS;
11682  by UNAME;
11683  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11684  data WORK.TRANS_OUTPUTVARS;
11685  merge WORK.TRANS_OUTPUTVARS _temp;
11686  by UNAME;
11687  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11688  *------------------------------------------------------------*;
11689  * Trans5: Get Metadata for the Score Inputs Variables;
11690  *------------------------------------------------------------*;
11691  data _temp;
11692  length UNAME $32;
11693  set EMWS1.Trans5_VariableSet(keep=NAME LEVEL TYPE LABEL);
11694  UNAME = upcase(name);
11695  run;

NOTE: There were 27 observations read from the data set EMWS1.TRANS5_VARIABLESET.
NOTE: The data set WORK._TEMP has 27 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11696  proc sort data=_temp;
11697  by UNAME;
11698  run;

NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 27 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11699  data WORK.TRANS_SCOREINPUTS;
11700  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
11701  by UNAME;
11702  if _a and _b then output;
11703  run;

NOTE: There were 2 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 2 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11704  *------------------------------------------------------------*;
11705  * Trans5: Computing Summary Statistics;
11706  *------------------------------------------------------------*;
11707  proc dmdb data=EMWS1.Trans5_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
11708  ;
11709  var
11710  GiftAvgAll
11711  GiftCntAll
11712  GiftDolAll
11713  ;
11714  run;

NOTE: Records processed = 9686   Memory used = 511K.
NOTE: There were 9686 observations read from the data set BIA.PVA97NK.
NOTE: There were 9686 observations read from the data set EMWS1.IDS2_DATA.
NOTE: View EMWS1.TRANS5_TRAIN.VIEW used (Total process time):
      real time           0.11 seconds
      cpu time            0.10 seconds
      
NOTE: There were 9686 observations read from the data set EMWS1.TRANS4_TRAIN.
NOTE: There were 9686 observations read from the data set EMWS1.TRANS5_TRAIN.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.12 seconds
      cpu time            0.12 seconds
      

11715  *------------------------------------------------------------*;
11716  * Trans5: Combine Information and Statistics for Class Variables;
11717  *------------------------------------------------------------*;
11718  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
11719  by NAME;
11720  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11721  proc sort data=WORK.TRANS_CLASSSTATS;
11722  by NAME;
11723  run;

NOTE: Input data set is empty.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11724  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
11725  retain nlevel nmiss;
11726  set WORK.TRANS_CLASSSTATS;
11727  by Name;
11728  if first.Name then do;
11729  nlevel= 0;
11730  nmiss= 0;
11731  end;
11732  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
11733  else nlevel + 1;
11734  if last.name then output;
11735  run;

NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11736  /*Merge Statistics for Class Output Vars */
11737  data WORK.TRANS_CLASSSTATS;
11738  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
11739  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
11740  by NAME;
11741  if _a and _b then do;
11742  SOURCE='Output';
11743  if _MetaFlag = 1 then _METHOD_="Meta";
11744  else if Formula eq 'Interaction' then _METHOD_="Computed";
11745  else if inputName eq '' then _METHOD_="Formula";
11746  else _METHOD_="Computed";
11747  if Formula = '' then Formula = "User Code";
11748  end;
11749  if _a then output;
11750  drop inputName LEVEL TYPE _MetaFlag;
11751  run;

NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11752  /*Merge Statistics for Class Input Vars */
11753  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
11754  by NAME;
11755  run;

NOTE: There were 2 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 2 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11756  data WORK.TRANS_CLASSSTATS;
11757  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
11758  by NAME;
11759  if _a and _b then do;
11760  SOURCE='Input';
11761  _METHOD_="Original";
11762  end;
11763  if _a then output;
11764  run;

NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 2 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11765  *------------------------------------------------------------*;
11766  * Trans5: Combine Information and Statistics for Interval Variables;
11767  *------------------------------------------------------------*;
11768  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
11769  by NAME;
11770  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11771  proc sort data=WORK.TRANS_VARSTATS;
11772  by NAME;
11773  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11774  *Merge Statistics for Output Vars;
11775  data WORK.TRANS_VARSTATS;
11776  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
11777  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
11778  by NAME;
11779  if _a and _b then do;
11780  SOURCE='Output';
11781  if _MetaFlag = 1 then _METHOD_="Meta";
11782  else if Formula eq 'Interaction' then _METHOD_="Computed";
11783  else if inputName eq '' then _METHOD_="Formula";
11784  else _METHOD_="Computed";
11785  if Formula = '' then Formula = "Mixture of variables";
11786  end;
11787  if _a then output;
11788  drop inputName LEVEL TYPE _MetaFlag;
11789  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11790  *Merge Statistics for Input Vars;
11791  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
11792  by NAME;
11793  run;

NOTE: There were 2 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 2 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11794  data WORK.TRANS_VARSTATS;
11795  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
11796  by NAME;
11797  if _a and _b then do;
11798  SOURCE='Input';
11799  _METHOD_="Original";
11800  end;
11801  if _a then output;
11802  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 2 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11803  *------------------------------------------------------------*;
11804  * Trans5: Combine statistics for class and interval variables;
11805  *------------------------------------------------------------*;
11806  data EMWS1.Trans5_STATISTICS;
11807  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
11808  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
11809     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
11810     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
11811     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
11812     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
11813  set
11814  WORK.TRANS_CLASSSTATS
11815  WORK.TRANS_VARSTATS
11816  ;
11817  drop UNAME;
11818  run;

NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS1.TRANS5_STATISTICS has 3 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
      

11819  proc sort data=EMWS1.Trans5_STATISTICS;
11820  by SOURCE _METHOD_ NAME;
11821  run;

NOTE: There were 3 observations read from the data set EMWS1.TRANS5_STATISTICS.
NOTE: The data set EMWS1.TRANS5_STATISTICS has 3 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.09 seconds
      cpu time            0.00 seconds
      

11822  proc sort data = EMWS1.Trans5_STATISTICS NOTHREADS;
11823  by SOURCE NAME;
11824  run;

NOTE: There were 3 observations read from the data set EMWS1.TRANS5_STATISTICS.
NOTE: The data set EMWS1.TRANS5_STATISTICS has 3 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.07 seconds
      cpu time            0.00 seconds
      

11825  title9 ' ';
11826  proc print data = EMWS1.Trans5_STATISTICS(obs=500) noobs label;
11827  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
11828  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11829  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
11830  where SOURCE eq 'INPUT' and mean ne .;
11831  run;

NOTE: No observations were selected from data set EMWS1.TRANS5_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS5_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

11832  proc print data = EMWS1.Trans5_STATISTICS(obs=500) noobs label;
11833  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
11834  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11835  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
11836  where SOURCE eq 'OUTPUT' and mean ne .;
11837  run;

NOTE: No observations were selected from data set EMWS1.TRANS5_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS5_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11838  proc print data = EMWS1.Trans5_STATISTICS(obs=500) noobs label;
11839  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
11840  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11841  var Name NLEVEL NMISS;
11842  where SOURCE eq 'INPUT' and nlevel ne .;
11843  run;

NOTE: No observations were selected from data set EMWS1.TRANS5_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS5_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11844  proc print data = EMWS1.Trans5_STATISTICS(obs=500) noobs label;
11845  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
11846  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11847  var Name _METHOD_ NLEVEL NMISS;
11848  where SOURCE eq 'OUTPUT' and nlevel ne .;
11849  run;

NOTE: No observations were selected from data set EMWS1.TRANS5_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS1.TRANS5_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11850  title9;
11851  title10;

11852  data EMWS1.Trans5_EMSCOREVAR;
11853  length Name $32 formula $300 file $200;
11854  keep NAME Formula file;
11855  set EMWS1.Trans5_STATISTICS;
11856  where SOURCE='Output';
11857  select( _METHOD_);
11858  when('Computed') do;
11859  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
11860  formula = '';
11861  end;
11862  when('Formula') do;
11863  if Formula eq 'Mixture of variables' then do;
11864  file= "EDITORCODE.sas";
11865  formula = '';
11866  end;
11867  if Formula = 'User Code' then do;
11868  file= "EDITORCODE.sas";
11869  formula = '';
11870  end;
11871  end;
11872  otherwise;
11873  end;
11874  output;
11875  run;

NOTE: There were 1 observations read from the data set EMWS1.TRANS5_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS1.TRANS5_EMSCOREVAR has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

